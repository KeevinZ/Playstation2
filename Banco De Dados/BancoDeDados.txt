-- Criando o banco de dados
CREATE DATABASE MelhoresJogosPS2;
USE MelhoresJogosPS2;

-- Tabela de jogos
CREATE TABLE Jogos (
    JogoID INT PRIMARY KEY AUTO_INCREMENT,
    Titulo VARCHAR(255) NOT NULL,
    AnoLancamento INT NOT NULL,
    Plataforma VARCHAR(50) NOT NULL DEFAULT 'PlayStation 2',
    Descricao Varchar(1000) NOT NULL
);

-- Tabela de gêneros
CREATE TABLE Generos (
    GeneroID INT PRIMARY KEY AUTO_INCREMENT,
    NomeGenero VARCHAR(100) NOT NULL
);

-- Tabela de desenvolvedores (inclui também publicadores)
CREATE TABLE Desenvolvedores (
    DesenvolvedorID INT PRIMARY KEY AUTO_INCREMENT,
    NomeDesenvolvedor VARCHAR(255) NOT NULL
);

-- Tabela de relação entre jogos e gêneros
CREATE TABLE JogosGeneros (
    JogoID INT,
    GeneroID INT,
    PRIMARY KEY (JogoID, GeneroID),
    FOREIGN KEY (JogoID) REFERENCES Jogos(JogoID),
    FOREIGN KEY (GeneroID) REFERENCES Generos(GeneroID)
);

-- Tabela de relação entre jogos e desenvolvedores/publicadores
CREATE TABLE JogosDesenvolvedores (
    JogoID INT,
    DesenvolvedorID INT,
    PRIMARY KEY (JogoID, DesenvolvedorID),
    FOREIGN KEY (JogoID) REFERENCES Jogos(JogoID),
    FOREIGN KEY (DesenvolvedorID) REFERENCES Desenvolvedores(DesenvolvedorID)
);
